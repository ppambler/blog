### â³ 2022-09-10 ğŸ·ï¸ css 

# 01-å…³äºç§»åŠ¨ç«¯é€‚é…ï¼Œä½ å¿…é¡»è¦çŸ¥é“çš„

> åŸæ–‡ï¼š[å…³äºç§»åŠ¨ç«¯é€‚é…ï¼Œä½ å¿…é¡»è¦çŸ¥é“çš„ - code ç§˜å¯†èŠ±å›­](https://blog.conardli.top/2019/05/17/cross-platform/reactive/)

1ï¼‰è‹±å¯¸

- ä¸€èˆ¬ç”¨è‹±å¯¸æè¿°å±å¹•çš„ç‰©ç†å¤§å°
- `inch` -> ç¼©å†™ `in` -> è·å…°è¯­ä¸­çš„æœ¬æ„æ˜¯å¤§æ‹‡æŒ‡ï¼Œä¸€è‹±å¯¸å°±æ˜¯æŒ‡ç”²åº•éƒ¨æ™®é€šäººæ‹‡æŒ‡çš„å®½åº¦
- `1 è‹±å¯¸ = 2.54 å˜ç±³`
- iPhone SE -> `4.7in` -> å±å¹•å¯¹è§’çº¿çš„é•¿åº¦

â¹ï¼š[iPhone SE - æŠ€æœ¯è§„æ ¼ - Apple ï¼ˆä¸­å›½å¤§é™†ï¼‰](https://www.apple.com.cn/iphone-se/specs/)

2ï¼‰åˆ†è¾¨ç‡

1ã€åƒç´ 

- ä¸€ä¸ªå°æ–¹å—ï¼Œå®ƒå…·æœ‰ç‰¹å®šçš„ä½ç½®å’Œé¢œè‰²
- å›¾ç‰‡ã€ç”µå­å±å¹•ï¼ˆæ‰‹æœºã€ç”µè„‘ï¼‰å°±æ˜¯ç”±æ— æ•°ä¸ªå…·æœ‰ **ç‰¹å®šé¢œè‰²** å’Œ **ç‰¹å®šä½ç½®** çš„å°æ–¹å—æ‹¼æ¥è€Œæˆ
- å¯ä½œä¸ºå›¾ç‰‡ã€ç”µå­å±å¹•çš„æœ€å°ç»„æˆå•ä½

é€šå¸¸ï¼Œæˆ‘ä»¬æ‰€è¯´çš„åˆ†è¾¨ç‡æœ‰ä¸¤ç§ï¼Œå±å¹•åˆ†è¾¨ç‡å’Œå›¾åƒåˆ†è¾¨ç‡

2ã€å±å¹•åˆ†è¾¨ç‡

- ä¸€ä¸ªå±å¹•å…·ä½“ç”±å¤šå°‘ä¸ªåƒç´ ç‚¹ç»„æˆ
- iPhone SE -> `1334 x 750` åƒç´ åˆ†è¾¨ç‡ -> å‚ç›´ x æ°´å¹³ -> è¿™æ˜¯é’ˆå¯¹æ‰‹æœºçš„æƒ…å†µ
- PC -> `1920 x 1080` -> æ°´å¹³ x å‚ç›´ -> å®½é«˜
- **åˆ†è¾¨ç‡é«˜ä¸ä»£è¡¨å±å¹•å°±æ¸…æ™°ï¼Œå±å¹•çš„æ¸…æ™°ç¨‹åº¦è¿˜ä¸å°ºå¯¸æœ‰å…³**

â¹ï¼š[ä¸ºä»€ä¹ˆè¯´ 1366 * 768 æ˜¯ã€Œåäººç±»ã€çš„åˆ†è¾¨ç‡ï¼Ÿ - çŸ¥ä¹](https://www.zhihu.com/question/20498510)

â¹ï¼š[ç¬”è®°æœ¬ç‰©ç†åˆ†è¾¨ç‡ 1366x768 å’Œ 1920x1080ï¼Ÿ - çŸ¥ä¹](https://www.zhihu.com/question/64756355)

3ã€å›¾åƒåˆ†è¾¨ç‡

- å›¾ç‰‡å«æœ‰çš„åƒç´ æ•°
- ä¸€å¼ å›¾ç‰‡çš„åˆ†è¾¨ç‡ `200 x 500` -> æ¨ªå‘ `200` ä¸ªåƒç´ ï¼Œçºµå‘ `500` ä¸ªåƒç´  -> å®½é«˜
- åŒä¸€å°ºå¯¸çš„å›¾ç‰‡ï¼Œåˆ†è¾¨ç‡è¶Šé«˜ï¼Œå›¾ç‰‡è¶Šæ¸…æ™° -> å¾ˆå¤šæ—¶å€™æˆ‘ä»¬è¯´å›¾ç‰‡çš„åˆ†è¾¨ç‡å°±æ˜¯è¯´å›¾ç‰‡çš„å°ºå¯¸ï¼ˆdimensionsï¼‰å¤§å°

![å°ºå¯¸](assets/img/2022-09-10-14-08-52.png)

> å°ºå¯¸æ›´å¤šæ˜¯æŒ‡ç‰©ç†ä¸Šçš„é•¿çŸ­æˆ–å¤§å° -> ä¸¤å¼ ç›¸åŒå¤§å°çš„å›¾ç‰‡ï¼Œå…¶è•´å«çš„åƒç´ æ•°ä¹Ÿè®¸ä¸åŒ

 â¹ï¼š[å›¾ç‰‡ä½“ç§¯ï¼Œå›¾ç‰‡åˆ†è¾¨ç‡ï¼Œå›¾ç‰‡å°ºå¯¸ä¹‹é—´æ˜¯å•¥å…³ç³»ï¼Ÿ - çŸ¥ä¹](https://www.zhihu.com/question/19617114)

4ã€PPI

- `PPI(Pixel Per Inch)`ï¼šæ¯è‹±å¯¸åŒ…æ‹¬çš„åƒç´ æ•°
- å¯ç”¨äºæè¿° **å±å¹•çš„æ¸…æ™°åº¦** ä»¥åŠä¸€å¼  **å›¾ç‰‡çš„è´¨é‡**
- ä½¿ç”¨ `PPI` æè¿°å›¾ç‰‡æ—¶ï¼Œ`PPI` è¶Šé«˜ï¼Œå›¾ç‰‡è´¨é‡è¶Šé«˜ï¼Œä½¿ç”¨ `PPI` æè¿°å±å¹•æ—¶ï¼Œ`PPI` è¶Šé«˜ï¼Œå±å¹•è¶Šæ¸…æ™°
  - `iPhone SE 326 ppi` vs `iPhone 14 Pro 460 ppi` -> åè€…å±å¹•æ›´æ¸…æ™°

![PPI](assets/img/2022-09-10-14-17-00.png)

ğŸ’¡ï¼šå¦‚ä½•è®¡ç®— `PPI`ï¼Ÿ

æ‰‹æœºå°ºå¯¸ä¸ºæ‰‹æœºå¯¹è§’çº¿çš„é•¿åº¦ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨å¦‚ä¸‹çš„æ–¹æ³•è®¡ç®— `PPI`ï¼š

> å¯¹è§’çº¿çš„åƒç´ ç‚¹æ•° / æ‰‹æœºå°ºå¯¸ -> 500 å—/10 æ–¤ = 50 å—/æ–¤ï¼ˆæ¯æ–¤ 50 å—ï¼‰

`iPhone 6` çš„ `PPI` è®¡ç®—ï¼š

> åˆ†æ•°æ˜¯ç”¨åˆ†å¼è¡¨è¾¾æˆ `{\frac {a}{b}}` çš„æ•°

![iPhone 6](assets/img/2022-09-10-14-47-33.png)

> `{\frac{\sqrt{æ°´å¹³åƒç´ ç‚¹æ•°^2+å‚ç›´åƒç´ ç‚¹æ•°^2}}{å°ºå¯¸}} = {\frac{\sqrt{1334^2+750^2}}{4.7}} = 325.6`

`iPhone 14 Pro` çš„ `PPI` è®¡ç®—ï¼š

![iPhone 14 Pro](assets/img/2022-09-10-14-48-50.png)

> `{\frac{\sqrt{2556^2+1179^2}}{6.1}} = 461.4`

â¹ï¼š[åœ¨çº¿ LaTeX å…¬å¼ç¼–è¾‘å™¨-ç¼–è¾‘å™¨](https://www.latexlive.com/##)

5ã€DPI

- `DPI(Dot Per Inch)`ï¼šå³æ¯è‹±å¯¸åŒ…æ‹¬çš„ç‚¹æ•°
- è¿™é‡Œçš„ç‚¹æ˜¯ä¸€ä¸ªæŠ½è±¡çš„å•ä½ï¼Œå®ƒå¯ä»¥æ˜¯å±å¹•åƒç´ ç‚¹ã€å›¾ç‰‡åƒç´ ç‚¹ä¹Ÿå¯ä»¥æ˜¯æ‰“å°æœºçš„å¢¨ç‚¹
- ä½¿ç”¨ `DPI` æ¥æè¿°å›¾ç‰‡å’Œå±å¹•ï¼Œè¿™æ—¶çš„ `DPI` åº”è¯¥å’Œ PPI æ˜¯ç­‰ä»·çš„ï¼Œ`DPI` æœ€å¸¸ç”¨çš„æ˜¯ç”¨äºæè¿°æ‰“å°æœºï¼Œè¡¨ç¤ºæ‰“å°æœºæ¯è‹±å¯¸å¯ä»¥æ‰“å°çš„ç‚¹æ•°

ä¸€å¼ å›¾ç‰‡åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæ—¶ï¼Œå®ƒçš„åƒç´ ç‚¹æ•°æ˜¯è§„åˆ™æ’åˆ—çš„ï¼Œæ¯ä¸ªåƒç´ ç‚¹éƒ½æœ‰ç‰¹å®šçš„ä½ç½®å’Œé¢œè‰²

ç„¶è€Œå½“ä½ ä½¿ç”¨æ‰“å°æœºè¿›è¡Œæ‰“å°æ—¶ï¼Œæ‰“å°æœºå¯èƒ½ **ä¸ä¼šè§„åˆ™çš„å°†è¿™äº›ç‚¹æ‰“å°å‡ºæ¥**ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸€ä¸ªä¸ªæ‰“å°ç‚¹æ¥å‘ˆç°è¿™å¼ å›¾åƒï¼Œè¿™äº›æ‰“å°ç‚¹ä¹‹é—´ä¼šæœ‰ä¸€å®šçš„ **ç©ºéš™**ï¼Œè¿™å°±æ˜¯ `DPI` æ‰€æè¿°çš„ï¼šæ‰“å°ç‚¹çš„å¯†åº¦ã€‚

![DPI](assets/img/2022-09-10-15-47-52.png)

å¯è§ï¼Œæ‰“å°æœºæ˜¯å¦‚ä½•ä½¿ç”¨å¢¨ç‚¹æ¥æ‰“å°ä¸€å¼ å›¾åƒçš„

å› æ­¤ï¼Œ**æ‰“å°æœºçš„ `DPI` è¶Šé«˜ï¼Œæ‰“å°å›¾åƒçš„ç²¾ç»†ç¨‹åº¦å°±è¶Šé«˜ï¼ŒåŒæ—¶è¿™ä¹Ÿä¼šæ¶ˆè€—æ›´å¤šçš„å¢¨ç‚¹å’Œæ—¶é—´**

3ï¼‰è®¾å¤‡ç‹¬ç«‹åƒç´ 

- ä¸Šè¾¹æè¿°çš„åƒç´ éƒ½æ˜¯ **ç‰©ç†åƒç´ **ï¼Œå³è®¾å¤‡ä¸ŠçœŸå®çš„ç‰©ç†å•å…ƒ
- è®¾å¤‡ç‹¬ç«‹åƒç´  -> å¦‚ä½•äº§ç”Ÿï¼Ÿ
  - ä½åˆ†è¾¨ç‡æ‰‹æœº `320x480` -> é¡µé¢å…ƒç´  -> é«˜åˆ†è¾¨ç‡æ‰‹æœº `640x940` -> æŒ‰ç†è¯´ï¼Œé¡µé¢å…ƒç´ åº”è¯¥ç¼©å°ä¸€å€
  - ç„¶è€Œæˆ‘ä»¬ç°åœ¨ä½¿ç”¨çš„æ™ºèƒ½æ‰‹æœºï¼Œä¸ç®¡åˆ†è¾¨ç‡å¤šé«˜ï¼Œä»–ä»¬æ‰€å±•ç¤ºçš„ç•Œé¢æ¯”ä¾‹éƒ½æ˜¯åŸºæœ¬ç±»ä¼¼çš„
  - ä¹”å¸ƒæ–¯åœ¨ iPhone4 çš„å‘å¸ƒä¼šä¸Šé¦–æ¬¡æå‡ºäº† **Retina Display**ï¼ˆè§†ç½‘è†œå±å¹•ï¼‰çš„æ¦‚å¿µï¼Œå®ƒæ­£æ˜¯è§£å†³äº†ä¸Šé¢çš„é—®é¢˜ï¼Œè¿™ä¹Ÿä½¿å®ƒæˆä¸ºä¸€æ¬¾è·¨æ—¶ä»£çš„æ‰‹æœº

åœ¨ iPhone4 ä½¿ç”¨çš„è§†ç½‘è†œå±å¹•ä¸­ï¼ŒæŠŠ `2x2` ä¸ªåƒç´ å½“ `1` ä¸ªåƒç´ ä½¿ç”¨ï¼Œè¿™æ ·è®©å±å¹•çœ‹èµ·æ¥æ›´ç²¾è‡´ï¼Œä½†æ˜¯å…ƒç´ çš„å¤§å°å´ä¸ä¼šæ”¹å˜

![å…ƒç´ å¤§å°](assets/img/2022-09-10-16-28-28.png)

æˆ‘ä»¬é€šè¿‡ä¸€ç§å•ä½ï¼Œæ¯”å¦‚ `DIP`ï¼ˆä¹Ÿå« `DP`ï¼‰æ¥å‘ŠçŸ¥å„ç§åˆ†è¾¨ç‡çš„æ‰‹æœºã€Œä½ ä»¬åœ¨ç•Œé¢æ˜¾ç¤ºå…ƒç´ çš„å¤§å°æ˜¯å¤šå°‘ã€ -> è¿™ä¸ª `DIP` å°±æ˜¯è®¾å¤‡ç‹¬ç«‹åƒç´ ï¼ˆ`Device Independent Pixels`ï¼‰

ä¾‹å¦‚ï¼Œå¼€å‘è€…è¦æ˜¾ç¤ºå®½åº¦ä¸º `300px` çš„å…ƒç´ ï¼Œé‚£ä¹ˆä¸ç®¡åœ¨ä»€ä¹ˆåˆ†è¾¨ç‡çš„æ‰‹æœºç•Œé¢ä¸Šï¼Œè¿™ä¸ªè®¾ç½®æ‰€å±•ç¤ºçš„å°±æ˜¯ `300dp`

> ä½ åœ¨ç¬”è®°æœ¬è®¾ç½®çš„æ˜¾ç¤ºåˆ†è¾¨ç‡å°±æ˜¯åœ¨è®¾ç½®è®¾å¤‡ç‹¬ç«‹åƒç´ ï¼Ÿ -> å‡†ç¡®æ¥è¯´åº”è¯¥æ˜¯åœ¨è®¾ç½®ç‰©ç†åƒç´ ï¼Œä¹Ÿå°±æ˜¯è®©å¤šå°‘ä¸ªç‰©ç†åƒç´ è¢«æ¿€æ´»

![iPhone](assets/img/2022-09-10-17-15-53.png)

1ã€è®¾å¤‡åƒç´ æ¯”

- è®¾å¤‡åƒç´ æ¯” `device pixel ratio` ç®€ç§° `dpr`ï¼Œå³ç‰©ç†åƒç´ å’Œè®¾å¤‡ç‹¬ç«‹åƒç´ çš„æ¯”å€¼ã€‚

ğŸ’¡ï¼šå¦‚ä½•è·å– `dpr` è¿™ä¸ªå€¼ï¼Ÿ

- åœ¨ web ä¸­ï¼Œæµè§ˆå™¨æä¾›äº† `window.devicePixelRatio` è¿™ä¸ª API æ¥è·å– `dpr`
- åœ¨ css ä¸­ï¼Œæˆ‘ä»¬å¯ç”¨åª’ä½“æŸ¥è¯¢ `min-device-pixel-ratio` æ¥åŒºåˆ†è¯¥è®¾å¤‡æ˜¯å¦æ»¡è¶³æˆ‘ä»¬è®¾å®šçš„ `dpr`
  - `@media (-webkit-min-device-pixel-ratio: 2),(min-device-pixel-ratio: 2){ }`
- åœ¨ React Native ä¸­ï¼Œé€šè¿‡ `PixelRatio.get()` æ¥è·å– `dpr`

ğŸ’¡ï¼šé€šè¿‡ `dpr` å’Œè®¾å¤‡ç‹¬ç«‹åƒç´ çš„ç›¸ä¹˜æ˜¯å¦ç»å¯¹å¯ä»¥è®¡ç®—å‡ºæ‰‹æœºçš„ç‰©ç†åƒç´ ï¼Ÿ

è¿™æ˜¯ä¸ä¸€å®šçš„

æ¯”å¦‚ï¼š

`iPhone 6ã€7ã€8 Plus` çš„å®é™…ç‰©ç†åƒç´ æ˜¯ `1080 x 1920` -> è®¾å¤‡ç‹¬ç«‹åƒç´ æ˜¯ `414 x 736`ï¼Œè®¾å¤‡åƒç´ æ¯”ä¸º `3`

å¯è§ï¼Œç›¸ä¹˜çš„ç»“æœå¯¹ä¸ä¸Š

æ‰‹æœºä¼šè‡ªåŠ¨æŠŠ `1242 x 2208` ä¸ªåƒç´ ç‚¹å¡è¿› `1080 x 1920` ä¸ªç‰©ç†åƒç´ ç‚¹æ¥æ¸²æŸ“ -> å€ŸåŠ© `Downsampling` è¿™ä¸ªæŠ€æœ¯ï¼ˆç›®çš„ï¼šæŠ—é”¯é½¿ã€æé«˜æ¸¸æˆè§†è§‰æ•ˆæœï¼‰

`1242 x 2208` è¢«ç§°ä¸ºå±å¹•çš„ `è®¾è®¡åƒç´ `ã€‚æˆ‘ä»¬å¼€å‘è¿‡ç¨‹ä¸­ä¹Ÿæ˜¯ä»¥è¿™ä¸ª `è®¾è®¡åƒç´ ` ä¸ºå‡† -> `@3x` å›¾ç‰‡

ğŸ’¡ï¼š`dpr` è¿™ä¸ªæ¦‚å¿µæ˜¯ä»€ä¹ˆæ—¶å€™å‡ºç°çš„ï¼Ÿ

> ä»è‹¹æœæå‡ºè§†ç½‘è†œå±å¹•å¼€å§‹ï¼Œæ‰å‡ºç°è®¾å¤‡åƒç´ æ¯”è¿™ä¸ªæ¦‚å¿µï¼Œå› ä¸ºåœ¨è¿™ä¹‹å‰ï¼Œç§»åŠ¨è®¾å¤‡éƒ½æ˜¯ç›´æ¥ä½¿ç”¨ç‰©ç†åƒç´ æ¥è¿›è¡Œå±•ç¤º

ğŸ’¡ï¼šè‹¹æœæœºæœ‰ `dpr` è¿™ä¸ªæ¦‚å¿µï¼Œé‚£ Android æœºæ˜¯ä¸æ˜¯ä¹Ÿæ˜¯è¿™æ ·å‘¢ï¼Ÿ

Android åŒæ ·ä½¿ç”¨äº†å…¶ä»–çš„æŠ€æœ¯æ–¹æ¡ˆæ¥å®ç° DPR å¤§äº `1` çš„å±å¹• -> åŸç†ç±»ä¼¼

ç”±äº Android å±å¹•å°ºå¯¸éå¸¸å¤šã€åˆ†è¾¨ç‡é«˜ä½è·¨åº¦éå¸¸å¤§ï¼Œä¸åƒè‹¹æœåªæœ‰å®ƒè‡ªå·±çš„å‡ æ¬¾å›ºå®šè®¾å¤‡ã€å°ºå¯¸ã€‚æ‰€ä»¥ï¼Œä¸ºäº†ä¿è¯å„ç§è®¾å¤‡çš„æ˜¾ç¤ºæ•ˆæœï¼ŒAndroid æŒ‰ç…§è®¾å¤‡çš„åƒç´ å¯†åº¦å°†è®¾å¤‡åˆ†æˆäº†å‡ ä¸ªåŒºé—´ï¼š

![Android](assets/img/2022-09-10-17-00-40.png)

> æ‰€æœ‰çš„ Android è®¾å¤‡ä¸ä¸€å®šä¸¥æ ¼æŒ‰ç…§ä¸Šé¢çš„åˆ†è¾¨ç‡ï¼Œæ¯ä¸ªç±»å‹å¯èƒ½å¯¹åº”å‡ ç§ä¸åŒåˆ†è¾¨ç‡ï¼Œæ‰€ä»¥ï¼Œæ¯ä¸ª Android æ‰‹æœºéƒ½èƒ½æ ¹æ®ç»™å®šçš„åŒºé—´èŒƒå›´ï¼Œç¡®å®šè‡ªå·±çš„ `DPR`ï¼Œä»è€Œæ‹¥æœ‰ç±»ä¼¼çš„æ˜¾ç¤ºã€‚å½“ç„¶ï¼Œä»…ä»…æ˜¯ç±»ä¼¼ï¼Œç”±äºå„ä¸ªè®¾å¤‡çš„å°ºå¯¸ã€åˆ†è¾¨ç‡ä¸Šçš„å·®å¼‚ï¼Œè®¾å¤‡ç‹¬ç«‹åƒç´ ä¹Ÿä¸ä¼šå®Œå…¨ç›¸ç­‰ï¼Œæ‰€ä»¥å„ç§ Android è®¾å¤‡ä»ç„¶ä¸èƒ½åšåˆ°åœ¨å±•ç¤ºä¸Šå®Œå…¨ç›¸ç­‰

ä½ åœ¨æ‰‹æœºä¸Šå¯ä»¥è®¾ç½®ä¸åŒçš„æ˜¾ç¤ºåˆ†è¾¨ç‡ï¼ˆæ ¹æ®è®¾å¤‡çš„ç‰©ç†åƒç´ æ¥è®¾ç½®ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œç‰©ç†åƒç´ æ˜¯å¤šå°‘ï¼Œä½ å°±è®¾ç½®æˆå¤šå°‘ï¼‰ -> è¿™æ · `DPR` çš„å€¼ä¹Ÿä¼šæœ‰æ‰€ä¸åŒï¼Œæ¯”å¦‚ `HD+ï¼ˆ720 x 1440ï¼‰ã€FHD+ï¼ˆ2160 x 1080ï¼‰`ï¼Œä½ è®¾ç½®æˆå‰è€…ï¼Œé‚£ `DPR` å°±æ˜¯ `2`ï¼Œè€Œåè€…å°±æ˜¯ `3`

ğŸ’¡ï¼šç¬”è®°æœ¬çš„ `dpr` éƒ½æ˜¯ `1` å—ï¼Ÿ

- é«˜åˆ†å±è·Ÿ Retina å±æ˜¯ä¸€ä¸ªæ¦‚å¿µ
- é«˜åˆ†å±å°±æ˜¯åœ¨åŒæ ·å¤§å°çš„å±å¹•é¢ç§¯ä¸Šæ˜¾ç¤ºæ›´å¤šçš„åƒç´ ç‚¹ï¼Œä¹Ÿå°±æ˜¯æ›´å¤šçš„å¯è§†ä¿¡æ¯

â¹ï¼š[å‰ç«¯æ˜¯å¦æœ‰æ–¹æ³•åˆ¤æ–­ç¬”è®°æœ¬é«˜åˆ†å±ï¼Ÿ- SegmentFault æ€å¦](https://segmentfault.com/q/1010000014855931)

â¹ï¼š[ç”µè„‘çš„å±å¹•éƒ½æœ‰ä»€ä¹ˆå·®åˆ«ï¼Œå¦‚ä½•é€‰æ‹©ï¼Ÿ - çŸ¥ä¹](https://www.zhihu.com/question/53243396)

2ã€ç§»åŠ¨ç«¯å¼€å‘

- åœ¨ iOSã€Android å’Œ React Native å¼€å‘ä¸­æ ·å¼å•ä½å…¶å®éƒ½ä½¿ç”¨çš„æ˜¯ **è®¾å¤‡ç‹¬ç«‹åƒç´ **
- iOS çš„å°ºå¯¸å•ä½ä¸º `pt`ï¼ŒAndroid çš„å°ºå¯¸å•ä½ä¸º `dp`ï¼ŒReact Native ä¸­æ²¡æœ‰æŒ‡å®šæ˜ç¡®çš„å•ä½ï¼Œå®ƒä»¬å…¶å®éƒ½æ˜¯è®¾å¤‡ç‹¬ç«‹åƒç´  `dp`

ğŸ’¡ï¼šå¼€å‘ App æ—¶ï¼Œæˆ‘ä»¬å¦‚ä½•ç†è§£ UI ç»™çš„åŸå‹å›¾ï¼Ÿ

åœ¨ä½¿ç”¨ React Native å¼€å‘ App æ—¶ï¼ŒUI ç»™æˆ‘ä»¬çš„åŸå‹å›¾ä¸€èˆ¬æ˜¯åŸºäº iPhone6 çš„åƒç´ ç»™å®šçš„ -> **ç‰©ç†åƒç´ ** -> `750`

ä¸ºäº†é€‚é…æ‰€æœ‰æœºå‹ï¼Œæˆ‘ä»¬åœ¨ **å†™æ ·å¼æ—¶éœ€è¦æŠŠç‰©ç†åƒç´ è½¬æ¢ä¸ºè®¾å¤‡ç‹¬ç«‹åƒç´ **ï¼š

ä¾‹å¦‚ï¼šå¦‚æœç»™å®šä¸€ä¸ªå…ƒç´ çš„é«˜åº¦ä¸º **200px**ï¼ˆè¿™é‡Œçš„ `px` æŒ‡ç‰©ç†åƒç´ ï¼Œé CSS åƒç´ ï¼‰ï¼Œiphone6 çš„è®¾å¤‡åƒç´ æ¯”ä¸º `2`ï¼Œæˆ‘ä»¬ç»™å®šçš„ `height` åº”ä¸º `200px/2=100dp`ã€‚

> å¾®ä¿¡å°ç¨‹åºçš„ `750rpx` -> æ¥åˆ°è®¾è®¡ç¨¿ä¸ç”¨é™¤ä»¥ `2` äº†

å½“ç„¶ï¼Œæœ€å¥½çš„æ˜¯ï¼Œä½ å¯ä»¥å’Œè®¾è®¡æ²Ÿé€šå¥½ï¼Œæ‰€æœ‰çš„ UI å›¾éƒ½æŒ‰ç…§è®¾å¤‡ç‹¬ç«‹åƒç´ æ¥å‡ºã€‚ -> ä¹Ÿå°±æ˜¯ `375`

å¦‚æœä¸æ²Ÿé€šï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»£ç  (React Native) ä¸­è¿›è¡Œ `px` å’Œ `dp` çš„è½¬æ¢ï¼š

``` js
import {PixelRatio } from 'react-native';

const dpr = PixelRatio.get();

/**
 * px è½¬æ¢ä¸º dp
 */
export function pxConvertTodp(px) {
  return px / dpr;
}

/**
 * dp è½¬æ¢ä¸º px
 */
export function dpConvertTopx(dp) {
  return PixelRatio.getPixelSizeForLayoutSize(dp);
}
```

3ã€WEB ç«¯å¼€å‘

ğŸ’¡ï¼šä»€ä¹ˆæƒ…å†µä¸‹ï¼Œä¸€ä¸ª CSS åƒç´ ç­‰äºä¸€ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ ï¼Ÿ

åœ¨å†™ CSS æ—¶ï¼Œæˆ‘ä»¬ç”¨åˆ°æœ€å¤šçš„å•ä½æ˜¯ `px`ï¼Œå³ CSS åƒç´ ï¼Œ**å½“é¡µé¢ç¼©æ”¾æ¯”ä¾‹ä¸º `100%` æ—¶**ï¼Œä¸€ä¸ª CSS åƒç´ ç­‰äºä¸€ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ ã€‚

ğŸ’¡ï¼šä»€ä¹ˆæƒ…å†µä¸‹ï¼Œä¸€ä¸ª CSS åƒç´ ä¸ç­‰äºä¸€ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ ï¼Ÿ

CSS åƒç´ æ˜¯å¾ˆå®¹æ˜“è¢«æ”¹å˜çš„ï¼Œ**å½“ç”¨æˆ·å¯¹æµè§ˆå™¨è¿›è¡Œäº†æ”¾å¤§ï¼ŒCSS åƒç´ ä¼šè¢«æ”¾å¤§**ï¼Œè¿™æ—¶ä¸€ä¸ª CSS åƒç´ ä¼šè·¨è¶Šæ›´å¤šçš„ç‰©ç†åƒç´ 

ğŸ’¡ï¼š`é¡µé¢çš„ç¼©æ”¾ç³»æ•° = CSS åƒç´  / è®¾å¤‡ç‹¬ç«‹åƒç´ `ï¼Ÿ

![è®¾å¤‡ç‹¬ç«‹åƒç´ ](assets/img/2022-09-10-17-39-29.png)

> ä»¥å‰çš„è®¤è¯†ï¼šä¸ç®¡æ€æ ·ï¼ŒCSS åƒç´ å°±æ˜¯è®¾å¤‡ç‹¬ç«‹åƒç´  -> ç°åœ¨çš„è®¤è¯†ï¼šè¿™æ˜¯æœ‰æ¡ä»¶çš„ï¼Œé‚£å°±æ˜¯é¡µé¢ç¼©æ”¾æ¯”ä¾‹ä¸º `1.0` æ—¶

4ã€å…³äºå±å¹•

Retina å±å¹•åªæ˜¯è‹¹æœæå‡ºçš„ä¸€ä¸ªè¥é”€æœ¯è¯­ï¼š

> åœ¨æ™®é€šçš„ä½¿ç”¨è·ç¦»ä¸‹ï¼Œäººçš„è‚‰çœ¼æ— æ³•åˆ†è¾¨å•ä¸ªçš„åƒç´ ç‚¹ã€‚

ä¸ºä»€ä¹ˆå¼ºè°ƒ **æ™®é€šçš„ä½¿ç”¨è·ç¦»** ä¸‹å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å®ƒçš„è®¡ç®—å…¬å¼ï¼š

![è®¡ç®—å…¬å¼](assets/img/2022-09-10-18-08-05.png)

> [Visual Angle Primer](http://www.gta.igs.net/~bgbauer/trentweb/366W04/images/visualangle.html)

`0` ä»£è¡¨äººçœ¼è§†è§’ï¼Œ`h` ä»£è¡¨åƒç´ é—´è·ï¼Œ`d` ä»£è¡¨è‚‰çœ¼ä¸å±å¹•çš„è·ç¦»ï¼Œç¬¦åˆä»¥ä¸Šæ¡ä»¶çš„å±å¹•å¯ä»¥ä½¿è‚‰çœ¼çœ‹ä¸è§å•ä¸ªç‰©ç†åƒç´ ç‚¹ã€‚

å®ƒä¸èƒ½å•çº¯çš„è¡¨è¾¾åˆ†è¾¨ç‡å’Œ `PPI`ï¼Œåªèƒ½ä¸€ç§è¡¨è¾¾è§†è§‰æ•ˆæœã€‚

è®©å¤šä¸ªç‰©ç†åƒç´ æ¸²æŸ“ä¸€ä¸ªç‹¬ç«‹åƒç´ åªæ˜¯ Retina å±å¹•ä¸ºäº†è¾¾åˆ°æ•ˆæœè€Œä½¿ç”¨çš„ä¸€ç§æŠ€æœ¯ã€‚è€Œä¸æ˜¯æ‰€æœ‰ `DPR > 1` çš„å±å¹•å°±æ˜¯ Retina å±å¹•ã€‚

æ¯”å¦‚ï¼šç»™ä½ ä¸€å—è¶…å¤§å°ºå¯¸çš„å±å¹•ï¼Œå³ä½¿å®ƒçš„ `PPI` å¾ˆé«˜ï¼Œ`DPR` ä¹Ÿå¾ˆé«˜ï¼Œä½†åœ¨è¿‘è·ç¦»ä½ ä¹Ÿèƒ½çœ‹æ¸…å®ƒçš„åƒç´ ç‚¹ï¼Œé‚£è¿™å°±ä¸ç®— Retina å±å¹•ã€‚

![é«˜æ¸…å±](assets/img/2022-09-10-18-16-43.png)

æˆ‘ä»¬ç»å¸¸è§åˆ°ç”¨ `K` å’Œ `P` è¿™ä¸ªå•ä½æ¥å½¢å®¹å±å¹•ï¼š

`P` ä»£è¡¨çš„å°±æ˜¯å±å¹•çºµå‘çš„åƒç´ ä¸ªæ•°ï¼Œ`1080P` å³çºµå‘æœ‰ `1080` ä¸ªåƒç´ ï¼Œåˆ†è¾¨ç‡ä¸º `1920X1080` çš„å±å¹•å°±å±äº `1080P` å±å¹•ã€‚

æˆ‘ä»¬å¹³æ—¶æ‰€è¯´çš„é«˜æ¸…å±å…¶å®å°±æ˜¯å±å¹•çš„ç‰©ç†åˆ†è¾¨ç‡è¾¾åˆ°æˆ–è¶…è¿‡ `1920X1080` çš„å±å¹•ã€‚

`K` ä»£è¡¨å±å¹•æ¨ªå‘æœ‰å‡ ä¸ª `1024` ä¸ªåƒç´ ï¼Œä¸€èˆ¬æ¥è®²æ¨ªå‘åƒç´ è¶…è¿‡ `2048` å°±å±äº `2K` å±ï¼Œæ¨ªå‘åƒç´ è¶…è¿‡ `4096` å°±å±äº `4K` å±ã€‚

4ï¼‰è§†å£

è§†å£ (`viewport`) ä»£è¡¨å½“å‰å¯è§çš„è®¡ç®—æœºå›¾å½¢åŒºåŸŸã€‚

åœ¨ `Web` æµè§ˆå™¨æœ¯è¯­ä¸­ï¼Œé€šå¸¸ä¸æµè§ˆå™¨çª—å£ç›¸åŒï¼Œä½†ä¸åŒ…æ‹¬æµè§ˆå™¨çš„ `UI`ï¼Œ èœå•æ ç­‰â€”â€”å³æŒ‡ **ä½ æ­£åœ¨æµè§ˆçš„æ–‡æ¡£çš„é‚£ä¸€éƒ¨åˆ†**ã€‚

ä¸€èˆ¬æˆ‘ä»¬æ‰€è¯´çš„è§†å£å…±åŒ…æ‹¬ä¸‰ç§ï¼šå¸ƒå±€è§†å£ã€è§†è§‰è§†å£å’Œç†æƒ³è§†å£ï¼Œå®ƒä»¬åœ¨å±å¹•é€‚é…ä¸­èµ·ç€éå¸¸é‡è¦çš„ä½œç”¨ã€‚

- [è§†å£æ¦‚å¿µ - CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰ - MDN](https://developer.mozilla.org/zh-CN/docs/Web/CSS/Viewport_concepts)
- [å¸ƒå±€è§†å£ã€è§†è§‰è§†å£å’Œç†æƒ³è§†å£åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ](https://www.itheima.com/news/20200910/171437.html)

1ã€å¸ƒå±€è§†å£

![å¸ƒå±€è§†å£](assets/img/2022-09-10-19-23-35.png)

å¸ƒå±€è§†å£ (`layout viewport`)ï¼šå½“æˆ‘ä»¬ä»¥ç™¾åˆ†æ¯”æ¥æŒ‡å®šä¸€ä¸ªå…ƒç´ çš„å¤§å°æ—¶ï¼Œå®ƒçš„è®¡ç®—å€¼æ˜¯ç”±è¿™ä¸ªå…ƒç´ çš„åŒ…å«å—è®¡ç®—è€Œæ¥çš„ã€‚å½“è¿™ä¸ªå…ƒç´ æ˜¯æœ€é¡¶çº§çš„å…ƒç´ æ—¶ï¼Œå®ƒå°±æ˜¯åŸºäºå¸ƒå±€è§†å£æ¥è®¡ç®—çš„ã€‚

æ‰€ä»¥ï¼Œå¸ƒå±€è§†å£æ˜¯ç½‘é¡µå¸ƒå±€çš„åŸºå‡†çª—å£ï¼Œåœ¨ `PC` æµè§ˆå™¨ä¸Šï¼Œå¸ƒå±€è§†å£å°±ç­‰äºå½“å‰æµè§ˆå™¨çš„çª—å£å¤§å°ï¼ˆä¸åŒ…æ‹¬ `borders` ã€`margins`ã€æ»šåŠ¨æ¡ï¼‰ã€‚

åœ¨ç§»åŠ¨ç«¯ï¼Œå¸ƒå±€è§†å£è¢«èµ‹äºˆä¸€ä¸ªé»˜è®¤å€¼ï¼Œå¤§éƒ¨åˆ†ä¸º `980px`ï¼Œè¿™ä¿è¯ `PC` çš„ç½‘é¡µå¯ä»¥åœ¨æ‰‹æœºæµè§ˆå™¨ä¸Šå‘ˆç°ï¼Œä½†æ˜¯éå¸¸å°ï¼Œç”¨æˆ·å¯ä»¥æ‰‹åŠ¨å¯¹ç½‘é¡µè¿›è¡Œæ”¾å¤§ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨ `document.documentElement.clientWidth / clientHeight` æ¥è·å–å¸ƒå±€è§†å£å¤§å°ã€‚

![è§†å£](assets/img/2022-09-10-19-46-11.png)

é¡µé¢æ”¾å¤§ä¸¤å€çš„æƒ…å†µï¼š

![é¡µé¢](assets/img/2022-09-10-19-50-46.png)

> è§†å£ -> æµè§ˆå™¨çª—å£çš„è§†å£å®½åº¦ -> åŒ…æ‹¬å‚ç›´æ»šåŠ¨æ¡ -> é€šè¿‡ `Window.innerWidth` è·å–
> 
> å¸ƒå±€è§†å£ -> åªçŸ¥é“ä¸åŒ…æ‹¬å‚ç›´æ»šåŠ¨æ¡ -> é€šè¿‡ `document.documentElement.clientWidth` è·å–

2ã€è§†è§‰è§†å£

![è§†è§‰è§†å£](assets/img/2022-09-10-21-00-30.png)

è§†è§‰è§†å£ (`visual viewport`)ï¼šç”¨æˆ·é€šè¿‡å±å¹•çœŸå®çœ‹åˆ°çš„åŒºåŸŸã€‚

è§†è§‰è§†å£é»˜è®¤ç­‰äºå½“å‰æµè§ˆå™¨çš„çª—å£å¤§å°ï¼ˆåŒ…æ‹¬æ»šåŠ¨æ¡å®½åº¦ï¼‰ã€‚

**å½“ç”¨æˆ·å¯¹æµè§ˆå™¨è¿›è¡Œç¼©æ”¾æ—¶ï¼Œä¸ä¼šæ”¹å˜å¸ƒå±€è§†å£çš„å¤§å°ï¼Œæ‰€ä»¥é¡µé¢å¸ƒå±€æ˜¯ä¸å˜çš„ï¼Œä½†æ˜¯ç¼©æ”¾ä¼šæ”¹å˜è§†è§‰è§†å£çš„å¤§å°**ã€‚

ä¾‹å¦‚ï¼šç”¨æˆ·å°†æµè§ˆå™¨çª—å£æ”¾å¤§äº† `200%`ï¼Œè¿™æ—¶æµè§ˆå™¨çª—å£ä¸­çš„ `CSS åƒç´ ` ä¼šéšç€è§†è§‰è§†å£çš„æ”¾å¤§è€Œæ”¾å¤§ï¼Œè¿™æ—¶ä¸€ä¸ª `CSS` åƒç´ ä¼šè·¨è¶Šæ›´å¤šçš„ç‰©ç†åƒç´ ã€‚

æ‰€ä»¥ï¼Œå¸ƒå±€è§†å£ä¼šé™åˆ¶ä½ çš„ `CSS` å¸ƒå±€ï¼Œè€Œè§†è§‰è§†å£å†³å®šç”¨æˆ·å…·ä½“èƒ½çœ‹åˆ°ä»€ä¹ˆã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨ `window.innerWidth / innerHeight` æ¥è·å–è§†è§‰è§†å£å¤§å°ã€‚

> å¸ƒå±€è§†å£ä¸º `980px` æ—¶ï¼Œåœ¨ `375px` è¿™ä¸ªè§†è§‰è§†å£æ˜¾ç¤ºæ—¶ï¼Œå…¶ç¼©æ”¾æ¯”ä¾‹å°±æ˜¯ `980/375 = 2.61` -> PC é¡µé¢åœ¨ç§»åŠ¨ç«¯æ˜¾ç¤ºæ—¶ï¼Œä¼šç¼©å°é¡µé¢ï¼Œä¹Ÿå±•ç¤ºå…¨éƒ¨é¡µé¢çš„å…¨éƒ¨å†…å®¹ï¼Œæ­¤æ—¶ï¼Œä½ æ”¾å¤§é¡µé¢ï¼Œæ˜¯åœ¨æ”¾å¤§è§†è§‰è§†å£çš„å®½åº¦ï¼Œè€Œå¸ƒå±€è§†å£æ˜¯ä¸å˜çš„

3ã€ç†æƒ³è§†å£

![ç†æƒ³è§†å£](assets/img/2022-09-10-21-02-33.png)

å¸ƒå±€è§†å£åœ¨ç§»åŠ¨ç«¯å±•ç¤ºçš„æ•ˆæœå¹¶ä¸æ˜¯ä¸€ä¸ªç†æƒ³çš„æ•ˆæœï¼Œæ‰€ä»¥ç†æƒ³è§†å£ (`ideal viewport`) å°±è¯ç”Ÿäº†ï¼šç½‘ç«™é¡µé¢åœ¨ç§»åŠ¨ç«¯å±•ç¤ºçš„ç†æƒ³å¤§å°ã€‚

å¦‚ä¸Šå›¾ï¼Œæˆ‘ä»¬åœ¨æè¿°è®¾å¤‡ç‹¬ç«‹åƒç´ æ—¶æ›¾ä½¿ç”¨è¿‡è¿™å¼ å›¾ï¼Œåœ¨æµè§ˆå™¨è°ƒè¯•ç§»åŠ¨ç«¯æ—¶é¡µé¢ä¸Šç»™å®šçš„åƒç´ å¤§å°å°±æ˜¯ç†æƒ³è§†å£å¤§å°ï¼Œå®ƒçš„å•ä½æ­£æ˜¯è®¾å¤‡ç‹¬ç«‹åƒç´ ã€‚

ä¸Šé¢åœ¨ä»‹ç» `CSS åƒç´ æ—¶` æ›¾ç»æåˆ° `é¡µé¢çš„ç¼©æ”¾ç³»æ•° = CSS åƒç´  / è®¾å¤‡ç‹¬ç«‹åƒç´ `ï¼Œå®é™…ä¸Šè¯´ `é¡µé¢çš„ç¼©æ”¾ç³»æ•° = ç†æƒ³è§†å£å®½åº¦ / è§†è§‰è§†å£å®½åº¦` æ›´ä¸ºå‡†ç¡®ã€‚

æ‰€ä»¥ï¼Œå½“é¡µé¢ç¼©æ”¾æ¯”ä¾‹ä¸º `100%` æ—¶ï¼Œ`CSS åƒç´  = è®¾å¤‡ç‹¬ç«‹åƒç´ `ï¼Œ`ç†æƒ³è§†å£ = è§†è§‰è§†å£`ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨ `screen.width / height` æ¥è·å–ç†æƒ³è§†å£å¤§å°ã€‚

> å½“å¸ƒå±€è§†å£çš„å®½åº¦ = è§†è§‰è§†å£ï¼Œé‚£ä¹ˆè¿™ç§å¸ƒå±€è§†å£æ‰æ˜¯æˆ‘ä»¬æƒ³è¦çš„

4ã€Meta viewport

`<meta>` HTML å…ƒç´ è¡¨ç¤ºå…¶ä»– HTML å…ƒç›¸å…³å…ƒç´ æ— æ³•è¡¨ç¤ºçš„å…ƒæ•°æ®ï¼Œå¦‚ `<base>` ã€ `<link>` ã€ `<script>` ã€ `<style>` æˆ– `<title>` ï¼Œå®ƒå¯ä»¥å‘Šè¯‰æµè§ˆå™¨å¦‚ä½•è§£æé¡µé¢ã€‚

æˆ‘ä»¬å¯ä»¥å€ŸåŠ© `<meta>` å…ƒç´ çš„ `viewport` æ¥å¸®åŠ©æˆ‘ä»¬è®¾ç½®è§†å£ã€ç¼©æ”¾ç­‰ï¼Œä»è€Œè®©ç§»åŠ¨ç«¯å¾—åˆ°æ›´å¥½çš„å±•ç¤ºæ•ˆæœã€‚

```html
<meta name="viewport" content="width=device-width; initial-scale=1; maximum-scale=1; minimum-scale=1; user-scalable=no;">
```

ä¸Šé¢æ˜¯ `viewport` çš„ä¸€ä¸ªé…ç½®ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒä»¬çš„å…·ä½“å«ä¹‰ï¼š

| `Value`         | å¯èƒ½å€¼                      | æè¿°                                                      |
| --------------- | --------------------------- | --------------------------------------------------------- |
| `width`         | æ­£æ•´æ•°æˆ– `device-width`      | ä»¥ `pixels`ï¼ˆåƒç´ ï¼‰ä¸ºå•ä½ï¼Œ å®šä¹‰å¸ƒå±€è§†å£çš„å®½åº¦ã€‚           |
| `height`        | æ­£æ•´æ•°æˆ– `device-height`     | ä»¥ `pixels`ï¼ˆåƒç´ ï¼‰ä¸ºå•ä½ï¼Œ å®šä¹‰å¸ƒå±€è§†å£çš„é«˜åº¦ã€‚           |
| `initial-scale` | `0.0 - 10.0`                | å®šä¹‰é¡µé¢åˆå§‹ç¼©æ”¾æ¯”ç‡ã€‚                                    |
| `minimum-scale` | `0.0 - 10.0`                | å®šä¹‰ç¼©æ”¾çš„æœ€å°å€¼ï¼›å¿…é¡»å°äºæˆ–ç­‰äº `maximum-scale` çš„å€¼ã€‚     |
| `maximum-scale` | `0.0 - 10.0`                | å®šä¹‰ç¼©æ”¾çš„æœ€å¤§å€¼ï¼›å¿…é¡»å¤§äºæˆ–ç­‰äº `minimum-scale` çš„å€¼ã€‚     |
| `user-scalable` | ä¸€ä¸ªå¸ƒå°”å€¼ï¼ˆ`yes` æˆ–è€… `no`ï¼‰ | å¦‚æœè®¾ç½®ä¸º `no`ï¼Œç”¨æˆ·å°†ä¸èƒ½æ”¾å¤§æˆ–ç¼©å°ç½‘é¡µã€‚é»˜è®¤å€¼ä¸º yesã€‚ |

5ã€ç§»åŠ¨ç«¯é€‚é…

ä¸ºäº†åœ¨ç§»åŠ¨ç«¯è®©é¡µé¢è·å¾—æ›´å¥½çš„æ˜¾ç¤ºæ•ˆæœï¼Œæˆ‘ä»¬å¿…é¡»è®©å¸ƒå±€è§†å£ã€è§†è§‰è§†å£éƒ½å°½å¯èƒ½ç­‰äºç†æƒ³è§†å£ã€‚

`device-width` å°±ç­‰äºç†æƒ³è§†å£çš„å®½åº¦ï¼Œæ‰€ä»¥è®¾ç½® `width=device-width` å°±ç›¸å½“äº **è®©å¸ƒå±€è§†å£ç­‰äºç†æƒ³è§†å£**ã€‚

ç”±äº `initial-scale = ç†æƒ³è§†å£å®½åº¦ / è§†è§‰è§†å£å®½åº¦`ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¾ç½® `initial-scale=1;` å°±ç›¸å½“äº **è®©è§†è§‰è§†å£ç­‰äºç†æƒ³è§†å£**ã€‚

è¿™æ—¶ï¼Œ1 ä¸ª `CSS` åƒç´ å°±ç­‰äº 1 ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ ï¼Œè€Œä¸”æˆ‘ä»¬ä¹Ÿæ˜¯åŸºäºç†æƒ³è§†å£æ¥è¿›è¡Œå¸ƒå±€çš„ï¼Œæ‰€ä»¥å‘ˆç°å‡ºæ¥çš„é¡µé¢å¸ƒå±€åœ¨å„ç§è®¾å¤‡ä¸Šéƒ½èƒ½å¤§è‡´ç›¸ä¼¼ã€‚

> ç†æƒ³è§†å£ï¼Œä¹Ÿæ˜¯å¸ƒå±€è§†å£ï¼Œæ‰€ä»¥æˆ‘åªè®¾ç½® `initial-scale=1;` ä¹Ÿæ˜¯å¯ä»¥çš„ -> è¿™ä¸ªç†è§£ä¸æ˜¯å¾ˆåˆç†

6ã€ç¼©æ”¾

ä¸Šé¢æåˆ° `width` å¯ä»¥å†³å®šå¸ƒå±€è§†å£çš„å®½åº¦ï¼Œå®é™…ä¸Šå®ƒå¹¶ä¸æ˜¯å¸ƒå±€è§†å£çš„å”¯ä¸€å†³å®šæ€§å› ç´ ï¼Œè®¾ç½® `initial-scale` ä¹Ÿæœ‰è‚¯èƒ½å½±å“åˆ°å¸ƒå±€è§†å£ï¼Œå› ä¸ºå¸ƒå±€è§†å£å®½åº¦å–çš„æ˜¯ `width` å’Œè§†è§‰è§†å£å®½åº¦çš„æœ€å¤§å€¼ã€‚

ä¾‹å¦‚ï¼šè‹¥æ‰‹æœºçš„ç†æƒ³è§†å£å®½åº¦ä¸º `400px`ï¼Œè®¾ç½® `width=device-width`ï¼Œ`initial-scale=2`ï¼Œæ­¤æ—¶ `è§†è§‰è§†å£å®½åº¦ = ç†æƒ³è§†å£å®½åº¦ / initial-scale` å³ `200px`ï¼Œå¸ƒå±€è§†å£å–ä¸¤è€…æœ€å¤§å€¼å³ `device-width` `400px`ã€‚

> å½“æˆ‘åªè®¾ç½® `initial-scale=1;` æ—¶ï¼Œç†æƒ³è§†å£å®½åº¦å°±æ˜¯è§†è§‰è§†å£å®½åº¦ï¼Œå‡è®¾è§†è§‰è§†å£å®½åº¦æ˜¯ `375px`ï¼Œé‚£ä¹ˆç†æƒ³è§†å£ä¹Ÿæ˜¯ `375px`ï¼Œå› æ­¤å¸ƒå±€è§†å£å–çš„å€¼å°±æ˜¯ `375px`

è‹¥è®¾ç½® `width=device-width`ï¼Œ`initial-scale=0.5`ï¼Œæ­¤æ—¶ `è§†è§‰è§†å£å®½åº¦ = ç†æƒ³è§†å£å®½åº¦ / initial-scale` å³ `800px`ï¼Œå¸ƒå±€è§†å£å–ä¸¤è€…æœ€å¤§å€¼å³ `800px`ã€‚

> åœ¨ç§»åŠ¨ç«¯è®¾å¤‡ä¸­ï¼Œæˆ‘ä»¬æƒ³è¦çš„ç†æƒ³è§†å£å®½åº¦éƒ½æ˜¯ç¡®å®šçš„ï¼Œä½†é¡µé¢çš„ç¼©æ”¾ç³»æ•°æ˜¯å°æ•°æ—¶ï¼Œè§†è§‰è§†å£å˜å¤§äº†ï¼Œæ„å‘³ç€ä½ èƒ½çœ‹åˆ°çš„å†…å®¹å˜å¤šäº†ï¼Œè€Œå¸ƒå±€è§†å£ä¹Ÿå› æ­¤ä¹Ÿå˜å¤§äº†

7ã€è·å–æµè§ˆå™¨å¤§å°

![æµè§ˆå™¨å¤§å°](assets/img/2022-09-10-22-41-40.png)

> å¸ƒå±€è§†å£é«˜åº¦æ˜¯ `document.documentElement.clientHeight`

- `window.innerHeight`ï¼šè·å–æµè§ˆå™¨è§†è§‰è§†å£é«˜åº¦ï¼ˆåŒ…æ‹¬å‚ç›´æ»šåŠ¨æ¡ï¼‰ã€‚
- `window.outerHeight`ï¼šè·å–æµè§ˆå™¨çª—å£å¤–éƒ¨çš„é«˜åº¦ã€‚è¡¨ç¤ºæ•´ä¸ªæµè§ˆå™¨çª—å£çš„é«˜åº¦ï¼ŒåŒ…æ‹¬ä¾§è¾¹æ ã€çª—å£é•¶è¾¹å’Œè°ƒæ­£çª—å£å¤§å°çš„è¾¹æ¡†ã€‚
- `window.screen.Height`ï¼šè·å–è·å±å¹•å–ç†æƒ³è§†å£é«˜åº¦ï¼Œè¿™ä¸ªæ•°å€¼æ˜¯å›ºå®šçš„ï¼Œ`è®¾å¤‡çš„åˆ†è¾¨ç‡/è®¾å¤‡åƒç´ æ¯”`
- `window.screen.availHeight`ï¼šæµè§ˆå™¨çª—å£å¯ç”¨çš„é«˜åº¦ã€‚
- `document.documentElement.clientHeight`ï¼šè·å–æµè§ˆå™¨å¸ƒå±€è§†å£é«˜åº¦ï¼ŒåŒ…æ‹¬å†…è¾¹è·ï¼Œä½†ä¸åŒ…æ‹¬å‚ç›´æ»šåŠ¨æ¡ã€è¾¹æ¡†å’Œå¤–è¾¹è·ã€‚ -> **è¿™ä¸ªè¡¨è¿°æ˜¯æœ‰é—®é¢˜çš„ï¼Œåº”è¯¥æ˜¯è§†è§‰è§†å£é«˜åº¦**
- `document.documentElement.offsetHeight`ï¼šåŒ…æ‹¬å†…è¾¹è·ã€æ»šåŠ¨æ¡ã€è¾¹æ¡†å’Œå¤–è¾¹è·ã€‚
- `document.documentElement.scrollHeight`ï¼šåœ¨ä¸ä½¿ç”¨æ»šåŠ¨æ¡çš„æƒ…å†µä¸‹é€‚åˆè§†å£ä¸­çš„æ‰€æœ‰å†…å®¹æ‰€éœ€çš„æœ€å°å®½åº¦ã€‚æµ‹é‡æ–¹å¼ä¸ `clientHeight` ç›¸åŒï¼šå®ƒåŒ…å«å…ƒç´ çš„å†…è¾¹è·ï¼Œä½†ä¸åŒ…æ‹¬è¾¹æ¡†ï¼Œå¤–è¾¹è·æˆ–å‚ç›´æ»šåŠ¨æ¡ã€‚

ğŸ’¡ï¼š`clientHeight`ï¼Ÿ

- `clientHeight`: `Element.clientHeight` æ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼Œè¿”å›çš„æ˜¯å…ƒç´ å¯¹åº”çš„é«˜åº¦ `px` çš„å€¼ï¼Œæ˜¯ä¸€ä¸ªæ•´æ•°å€¼ï¼Œä¸å­˜åœ¨å°æ•°ï¼Œ
  * å¯¹äºæ²¡æœ‰è®¾ç½®æ ·å¼æˆ–è€… `inline` å…ƒç´ è€Œè¨€ï¼Œè¿”å›çš„æ˜¯ `0`ï¼Œ
  * å¯¹äº `html` å…ƒç´ æˆ–è€…æ€ªå¼‚æ¨¡å¼ä¸‹çš„ `body`ï¼Œè¿”å›çš„æ˜¯ `viewport` é«˜åº¦ï¼Œä¹Ÿå°±æ˜¯æ•´ä¸ªé¡µé¢è§†å£é«˜åº¦
  * å…¶ä»–æƒ…å†µä¸‹ï¼šå…ƒç´ çš„ `innerHeight + padding`ï¼›ä¸åŒ…æ‹¬ `border`ã€`margin`ã€æ»šåŠ¨æ¡ï¼›

â¹ï¼š[HTML å…ƒç´ çš„ heightã€offsetHeightã€clientHeightã€scrollTop ç­‰æ¢³ç† - SegmentFault æ€å¦](https://segmentfault.com/a/1190000037426695)

â¹ï¼š[CSSOM View Module](https://www.w3.org/TR/2016/WD-cssom-view-1-20160317/#dom-element-clientheight)

â¹ï¼š[HTML DOM clientHeight å±æ€§ - èœé¸Ÿæ•™ç¨‹](https://www.runoob.com/jsref/prop-element-clientheight.html)

â¹ï¼š[è§†å£çš„å®½é«˜ä¸æ»šåŠ¨é«˜åº¦ - Harttle Land](https://harttle.land/2016/04/24/client-height-width.html)

ğŸ’¡ï¼š`node document`æ˜¯ä»€ä¹ˆæ„æ€å•Šï¼Ÿ

![node document](assets/img/2022-09-10-23-41-42.png)

æŒ‡çš„æ˜¯`document`è¿™ä¸ªèŠ‚ç‚¹å—ï¼Ÿ -> ç”¨`<!DOCTYPE html>`å¯ç”¨æ ‡å‡†æ¨¡å¼

â¹ï¼š[cssom-view Definition of clientLeft and clientTop doesn't make sense for the document scrolling element. Â· Issue #5363 Â· w3c/csswg-drafts](https://github.com/w3c/csswg-drafts/issues/5363)

5ï¼‰1px é—®é¢˜

